# üöÄ QUICK START GUIDE

## H∆∞·ªõng d·∫´n nhanh s·ª≠ d·ª•ng Advanced Features

---

## üì¶ C√ÄI ƒê·∫∂T

```bash
# Install dependencies
npm install
```

**Dependencies ƒë√£ c√≥:**
- ‚úÖ playwright
- ‚úÖ electron-store
- ‚úÖ electron

---

## üéØ S·ª¨ D·ª§NG C∆† B·∫¢N

### 1. Setup Proxy (Optional)

**T·∫°o file `proxies.txt`:**
```text
http://user1:pass1@proxy1.com:8080 | US | residential
http://user2:pass2@proxy2.com:8080 | UK | residential
socks5://user3:pass3@proxy3.com:1080 | VN | mobile
```

**Import proxies:**
```javascript
const ProxyManager = require('./src/main/utils/ProxyManager');
const proxyManager = new ProxyManager();

proxyManager.importProxiesFromFile('./proxies.txt');
```

### 2. Login Account ƒê·∫ßu Ti√™n

```javascript
const FacebookAdvanced = require('./src/main/automation/FacebookAdvanced');
const AccountLifecycle = require('./src/main/utils/AccountLifecycle');

// Setup lifecycle
const lifecycle = new AccountLifecycle();
lifecycle.createAccountProfile('my_account_001');

// Setup Facebook automation
const fb = new FacebookAdvanced(mainWindow, {
  accountId: 'my_account_001',
  proxyManager: proxyManager,  // Optional
  useProxy: true,              // Optional
  proxyId: 'proxy_001',        // Optional
});

// Login (browser s·∫Ω hi·ªán ra)
const result = await fb.login('your_email@example.com', 'your_password', false);

if (result.success) {
  console.log(`‚úÖ Logged in as: ${result.userName}`);
  
  // Session ƒë√£ t·ª± ƒë·ªông l∆∞u!
  // User data directory: ./user_data/profile_my_account_001
}
```

### 3. Login L·∫ßn Sau (t·ª´ Session)

```javascript
// L·∫ßn sau KH√îNG c·∫ßn email/password
const fb = new FacebookAdvanced(mainWindow, {
  accountId: 'my_account_001',
  useProxy: true,
});

// Login t·ª´ session ƒë√£ l∆∞u (headless mode)
const result = await fb.loginWithSession(true);

if (result.success) {
  console.log('‚úÖ Logged in from session');
} else {
  console.log('‚ùå Session expired, need to re-login');
}
```

---

## üí° USE CASES

### Use Case 1: Warming Account M·ªõi

```javascript
const lifecycle = new AccountLifecycle();

// Create profile
lifecycle.createAccountProfile('new_account_001');

// Get warming strategy
const strategy = lifecycle.getWarmingStrategy('new_account_001');

console.log(`
Phase: ${strategy.phase}
Daily actions limit: ${strategy.dailyActions}
Session duration: ${strategy.sessionDuration} minutes
Actions per session: ${strategy.actionsPerSession}
`);

// Follow strategy!
for (let i = 0; i < strategy.actionsPerSession; i++) {
  // Perform action v·ªõi human behavior
  await HumanBehavior.humanDelay(30000, 60000); // Wait 30-60s
  
  // Do action here...
  
  // Update lifecycle
  lifecycle.updateActivity('new_account_001', 'like');
}
```

### Use Case 2: Multi-Account Automation

```javascript
const accounts = [
  { id: 'acc_001', email: 'user1@email.com', password: 'pass1' },
  { id: 'acc_002', email: 'user2@email.com', password: 'pass2' },
  { id: 'acc_003', email: 'user3@email.com', password: 'pass3' },
];

for (const account of accounts) {
  // Check if can perform action
  const check = lifecycle.canPerformAction(account.id);
  
  if (!check.allowed) {
    console.log(`${account.id}: ${check.reason}`);
    continue;
  }
  
  // Login from session
  const fb = new FacebookAdvanced(mainWindow, {
    accountId: account.id,
    useProxy: true,
  });
  
  const result = await fb.loginWithSession(true); // headless
  
  if (result.success) {
    // Perform actions
    await performActions(fb);
    
    // Close
    await fb.close();
  }
  
  // Delay before next account
  await HumanBehavior.humanDelay(60000, 120000); // 1-2 minutes
}
```

### Use Case 3: Safe Automation v·ªõi Gating

```javascript
const HumanBehavior = require('./src/main/utils/HumanBehavior');

async function safeAutomation(accountId, action) {
  // Check 1: Can perform action?
  const check = lifecycle.canPerformAction(accountId, action);
  if (!check.allowed) {
    throw new Error(check.reason);
  }
  
  // Check 2: Is optimal time?
  const optimalTime = lifecycle.getOptimalActivityTime(accountId);
  if (optimalTime > new Date()) {
    throw new Error(`Wait until ${optimalTime.toLocaleString()}`);
  }
  
  // Check 3: Get warming strategy
  const strategy = lifecycle.getWarmingStrategy(accountId);
  const actionsToday = lifecycle.getActionsTodayCount(accountId);
  
  if (actionsToday >= strategy.dailyActions) {
    throw new Error('Daily limit reached');
  }
  
  // Perform action v·ªõi human behavior
  await HumanBehavior.humanDelay(5000, 10000);
  
  // ... do action ...
  
  // Update lifecycle
  lifecycle.updateActivity(accountId, action);
  
  console.log(`‚úÖ Action completed: ${actionsToday + 1}/${strategy.dailyActions}`);
}

// Usage
try {
  await safeAutomation('acc_001', 'post');
} catch (error) {
  console.log(`Cannot perform action: ${error.message}`);
}
```

---

## üìä MONITORING

### Check Account Health

```javascript
const profile = lifecycle.getAccountProfile('acc_001');

console.log(`
Account: ${profile.accountId}
Age: ${profile.age} days
Status: ${profile.health.status}

Scores:
- Reputation: ${profile.reputation}/100
- Trust: ${profile.trustScore}/100
- Risk: ${profile.riskScore}/100 ${profile.riskScore > 70 ? '‚ö†Ô∏è HIGH RISK' : '‚úÖ'}

Activity:
- Total logins: ${profile.totalLogins}
- Total actions: ${profile.totalActions}
- Posts: ${profile.totalPosts}
- Comments: ${profile.totalComments}
- Likes: ${profile.totalLikes}

Health:
- Warnings: ${profile.health.warnings}
- Checkpoints: ${profile.health.checkpoints}
- Consecutive successful logins: ${profile.health.consecutiveSuccessfulLogins}
`);
```

### Monitor All Accounts

```javascript
const accounts = lifecycle.listAllAccounts();

// Sort by risk score (highest first)
accounts.sort((a, b) => b.riskScore - a.riskScore);

console.log('\nüìä ACCOUNT DASHBOARD\n');
console.log('ID\t\tAge\tRep\tRisk\tStatus');
console.log('-'.repeat(60));

accounts.forEach(acc => {
  const riskIcon = acc.riskScore > 70 ? 'üî¥' : acc.riskScore > 50 ? 'üü°' : 'üü¢';
  console.log(`${acc.accountId}\t${acc.age}d\t${acc.reputation}\t${acc.riskScore}\t${acc.status} ${riskIcon}`);
});
```

---

## üîß TROUBLESHOOTING

### Problem: Session expired

```javascript
// Solution: Re-login
const fb = new FacebookAdvanced(mainWindow, {
  accountId: 'acc_001',
});

// Login v·ªõi email/password (browser visible)
await fb.login('email@example.com', 'password', false);

// Session s·∫Ω ƒë∆∞·ª£c l∆∞u l·∫°i
```

### Problem: High risk score

```javascript
const profile = lifecycle.getAccountProfile('acc_001');

if (profile.riskScore > 70) {
  console.log('‚ö†Ô∏è HIGH RISK - STOP ALL ACTIVITIES');
  console.log('Wait 3-7 days before continuing');
  
  // Reset risk (sau 7 ng√†y kh√¥ng activity)
  // Risk s·∫Ω t·ª± gi·∫£m theo th·ªùi gian
}
```

### Problem: Proxy not working

```javascript
// Test proxy
const result = await proxyManager.testProxy(proxyId);

if (!result.success) {
  console.log(`Proxy failed: ${result.error}`);
  
  // Remove v√† d√πng proxy kh√°c
  proxyManager.removeProxy(proxyId);
  
  const newProxy = proxyManager.getBestProxy(accountId, {
    country: 'US',
    type: 'residential',
  });
}
```

---

## üìù BEST PRACTICES

### 1. Account Warming (Days 0-7)

```javascript
// ‚úÖ DO
- Login 1x per day
- Browse v√† xem n·ªôi dung (5-10 ph√∫t)
- Like 1-3 b√†i vi·∫øt
- KH√îNG post, KH√îNG comment
- KH√îNG mass action

// ‚ùå DON'T
- Post ngay khi account m·ªõi
- Mass like (>10 likes/ng√†y)
- Login nhi·ªÅu l·∫ßn trong ng√†y
```

### 2. Proxy Usage

```javascript
// ‚úÖ DO
- D√πng residential proxies
- 1 account = 1 IP (sticky session)
- Match timezone v·ªõi proxy location
- Test proxy before use

// ‚ùå DON'T
- D√πng datacenter proxies
- Share 1 proxy cho nhi·ªÅu accounts
- Thay ƒë·ªïi IP th∆∞·ªùng xuy√™n cho 1 account
```

### 3. Human Behavior

```javascript
// ‚úÖ DO
await HumanBehavior.humanType(page, 'input', text);
await HumanBehavior.humanClick(page, 'button');
await HumanBehavior.humanDelay(2000, 5000);

// ‚ùå DON'T
await page.fill('input', text);
await page.click('button');
await page.waitForTimeout(1000); // Fixed delay
```

### 4. Activity Pattern

```javascript
// ‚úÖ DO
const pattern = HumanBehavior.getDailyActivityPattern();

if (pattern.shouldBeActive) {
  // Perform actions
} else {
  // Sleep time - no activity
}

// ‚ùå DON'T
// Automation 24/7 - Facebook s·∫Ω ph√°t hi·ªán ngay
```

---

## üéì EXAMPLES

### Example 1: Complete Login Flow

```javascript
const { app, BrowserWindow } = require('electron');
const FacebookAdvanced = require('./src/main/automation/FacebookAdvanced');
const AccountLifecycle = require('./src/main/utils/AccountLifecycle');
const ProxyManager = require('./src/main/utils/ProxyManager');

async function main() {
  // Create main window
  const mainWindow = new BrowserWindow({
    width: 1200,
    height: 800,
  });

  // Setup
  const lifecycle = new AccountLifecycle();
  const proxyManager = new ProxyManager();
  
  // Add proxy
  proxyManager.addProxy({
    server: 'http://proxy.com:8080',
    username: 'user',
    password: 'pass',
    type: 'residential',
    country: 'US',
    sticky: true,
  });

  // Create lifecycle profile
  lifecycle.createAccountProfile('my_account');

  // Create Facebook instance
  const fb = new FacebookAdvanced(mainWindow, {
    accountId: 'my_account',
    proxyManager: proxyManager,
    useProxy: true,
  });

  // Login
  const result = await fb.login('email@example.com', 'password', false);

  if (result.success) {
    console.log(`‚úÖ Success: ${result.userName}`);
    
    // Get fanpages
    const pages = await fb.getFanpages();
    console.log(`Found ${pages.length} fanpages`);
    
    // Update lifecycle
    lifecycle.updateActivity('my_account', 'login');
  }

  // Close
  await fb.close();
}

app.whenReady().then(main);
```

### Example 2: Scheduled Automation

```javascript
const cron = require('node-cron');

// Schedule: Every day at 10 AM
cron.schedule('0 10 * * *', async () => {
  console.log('üïê Running scheduled automation...');
  
  const accounts = lifecycle.listAllAccounts();
  
  for (const account of accounts) {
    // Check if can perform action
    const check = lifecycle.canPerformAction(account.accountId);
    
    if (check.allowed) {
      await performDailyActions(account.accountId);
    } else {
      console.log(`${account.accountId}: ${check.reason}`);
    }
    
    // Delay between accounts
    await HumanBehavior.humanDelay(120000, 180000); // 2-3 minutes
  }
});
```

---

## üîó LINKS

- [Full Documentation](./ADVANCED_FEATURES.md)
- [H∆∞·ªõng d·∫´n ti·∫øng Vi·ªát](./HUONG_DAN_SU_DUNG.md)
- [Installation Guide](./INSTALLATION.md)

---

## üí¨ SUPPORT

N·∫øu g·∫∑p v·∫•n ƒë·ªÅ:
1. Check logs
2. Review account lifecycle profile
3. Test proxy connection
4. Read full documentation

---

**Happy Automating! üöÄ**

